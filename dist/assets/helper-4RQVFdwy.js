import{k as s}from"./index-YJK9wbQ5.js";async function i({username:r}){try{const{data:t}=await s.get(`http://localhost:5000/api/user/${r}`);return{data:t}}catch{return{error:"Password doesn't Match...!"}}}async function n(r){try{const{data:{msg:t},status:a}=await s.post("http://localhost:5000/api/register",r),{username:e,email:o}=r;return a===200&&(console.log("ok"),await s.post("http://localhost:5000/api/registerMail",{username:e,userEmail:o,text:t})),Promise.resolve(t)}catch(t){return Promise.reject({error:t})}}async function l(r){try{const{data:{msg:t},status:a}=await s.post("http://localhost:5000/api/admin/register",r),{name:e,email:o}=r;return a===200&&(console.log("ok"),await s.post("http://localhost:5000/api/registerMail",{name:e,userEmail:o,text:t})),Promise.resolve(t)}catch(t){return Promise.reject({error:t})}}async function p({email:r,password:t}){try{if(r){const{data:a}=await s.post("http://localhost:5000/api/admin/login",{email:r,password:t});return Promise.resolve({data:a})}}catch{return Promise.reject({error:"Password doesn't Match...! "})}}async function u({username:r,password:t}){try{if(r){const{data:a}=await s.post("http://localhost:5000/api/login",{username:r,password:t});return Promise.resolve({data:a})}}catch{return Promise.reject({error:"Password doesn't Match...! "})}}async function h(r){try{const{data:{code:t},status:a}=await s.get("http://localhost:5000/api/generateOTP",{params:{username:r}});if(a===201){const{data:{email:e}}=await i({username:r}),o=`Your Password Recovery OTP is ${t}. Verify and recover your password.`;await s.post("http://localhost:5000/api/registerMail",{username:r,userEmail:e,text:o,subject:"Password Recovery OTP"})}return Promise.resolve(t)}catch(t){return Promise.reject({error:t})}}async function P({username:r,code:t}){try{const{data:a,status:e}=await s.get("http://localhost:5000/api/verifyOTP",{params:{username:r,code:t}});return{data:a,status:e}}catch(a){return Promise.reject(a)}}async function d({username:r,password:t}){try{const{data:a,status:e}=await s.put("http://localhost:5000/api/resetPassword",{username:r,password:t});return Promise.resolve({data:a,status:e})}catch(a){return Promise.reject({error:a})}}export{u as a,n as b,p as c,l as d,h as g,d as r,P as v};
